= Installation procedure

////
TODO: fill this chapter to document all the steps to follow in order to install
a Scibian HPC cluster.
////

== Internal repository

////
TODO: document the steps to initialize the internal hieradata repository
////

== Cluster definition

////
TODO: document how-to write cluster definition in hiera, with reference to
[Puppet-HPC reference documentation]
////

== Generate keys

////
TODO: document the steps to generate the keys, certificates, and so on.
////
 
== Install admin node

////
TODO: document the steps to boot the admin node with rikenter and
install/configure minimal installation system in live.
////

== Install generic servers

////
TODO: document how-to install and configure generic service nodes.
////

== Configure Ceph

////
TODO: document how-to deploy and configure Ceph cluster.
////

=== Service initialization

==== mon init 

This procedure only works on a running cluster, the initial mon creation
uses another command.

From an admin node:

--------
# cd <ceph deploy directory>
# ceph-deploy --overwrite-conf mon create <mon hostname>
--------

==== osd

==== mds

MDS has no state on the node, the configuration in puppet is sufficient
to initialize the service.

==== radosgw

RadosGW has no state on the node, the configuration in puppet is sufficient
to initialize the service.

== Re-install admin node

////
TODO: document how-to install admin node with generic service nodes.
////

== Install virtual machines

////
TODO: document how-to install and configure virtual machines with references to
[bootstraping guides] for service.
////

== Build diskless image

////
TODO: document how-to generate diskless live image for compute nodes.
////

== Boot nodes

////
TODO: document how-to boot diskless nodes.
////
